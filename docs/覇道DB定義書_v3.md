# 三國志覇道 DB定義書 v3

> **更新日:** 2026-02-11（v1.50反映）  
> **用途:** Claude Code / Claude.ai ナレッジ用  
> **関連:** 覇道ルール定義書（別文書）

---

## 1. ファイル構成

### 1.1 Excelファイル（原本）

| ファイル | 共有 | 内容 |
|---------|------|------|
| 覇道DB.xlsx | Google Drive | 技能・戦法・名宝等の効果データ（18シート） |
| 覇道DB_武将_.xlsx | Google Drive | 武将マスタ（447名、9シート） |
| 覇道DB_名宝_.xlsx | Google Drive | 名宝マスタ・鍛錬・関連武将（209件、2シート） |
| 相性.xlsx | ローカル | 三國志14相性値（1,031名+143名） |

### 1.2 JSデータファイル（GitHub Pages配信）

| ファイル | グローバル変数 | 件数 | 内容 |
|---------|-------------|------|------|
| data-generals.js | EMBEDDED_GENERALS_DATA | 447 | 全武将統合（LR92+UR108+SSR146+SR43+R38+N20） |
| data-all-treasures.js | EMBEDDED_TREASURES_DATA | 209 | 名宝マスタ（カテゴリ・武器種・関連武将・技能名） |
| data-skill-db.js | SKILL_DB | 1,783 | 技能DB全量（自動生成、calc-engine.jsが参照） |
| data-research.js | RESEARCH_FIELDS, RESEARCH_DATA | 127 | 研究マスタ（M/専攻分類付き） |
| data-survey.js | SURVEY_DATA | 23 | 調査（異民族）データ |
| data-horse-skills.js | HORSE_SKILLS_DATA | 53 | 軍馬技能データ |
| data-treasure-forge.js | TREASURE_FORGE | 187 | 名宝鍛錬データ（☆ランク→技能Lv） |
| data-skill-effects.js | SKILL_EFFECTS_DATA | 499 | 技能→パラメータ効果値（手動抜粋）→ ⚠️ 廃止予定 |
| data-combat-parameters.js | COMBAT_PARAMETERS | 171 | 戦闘6パラメータ効果値（手動抜粋）→ ⚠️ 廃止予定 |
| stat-calculator.js | TENPU_TABLE, FORMATION_RATES, calcActualStat() 等 | — | 天賦テーブル・陣形反映率・ステータス計算 |
| skill-conditions.js | checkSkillCondition() | 44パターン | 技能発動条件の評価関数 |
| calc-engine.js | calcCombatParams() 等 | — | 部隊パラメータ計算エンジン |
| data-profile.js | loadProfileData(), saveProfileData() 等 | — | プロファイルデータ管理（localStorage） |

全ファイルは`<script>`タグで読み込み、グローバル変数として利用。

---

## 2. 覇道DB.xlsx の構造

### 2.1 シート一覧

| シート | データ行数 | 列数 | Name列 | 内容 |
|--------|-----------|------|--------|------|
| **技能DB** | 5,733 | 39 | 列39 | Power Query統合ビュー（全技能） |
| 武将技能 | 2,307 | 39 | 列30 | 武将固有技能の効果 |
| 戦法 | 1,063 | 38 | なし | 戦法の効果 |
| 名宝 | 1,516 | 39 | 列30 | 名宝技能の効果（鍛錬ランク別） |
| 兵器 | 4 | 39 | 列30 | 兵器技能 |
| 武装 | 46 | 39 | 列30 | 異民族武装 |
| 五行 | 18 | 39 | 列30 | 五行技能 |
| 参軍 | 91 | 39 | 列30 | 参軍技能 |
| 陣形 | 92 | 39 | 列30 | 陣形効果 |
| 研究 | 134 | 39 | 列30 | 研究バフ |
| 調査 | 33 | 39 | 列30 | 異民族調査 |
| 軍馬技能 | 52 | 38 | なし | 軍馬技能 |
| 有利変化 | 162 | 39 | 列30 | バフ定義辞書 |
| 不利変化 | 66 | 39 | 列30 | デバフ定義辞書 |
| 即時効果 | 17 | 39 | 列30 | 即時効果辞書 |
| 能力強化 | 21 | 39 | 列30 | 能力強化辞書 |
| 能力弱化 | 22 | 39 | 列30 | 能力弱化辞書 |
| 異邦技能 | 90 | 38 | なし | 異邦技能 |

### 2.2 共通列構造（17個別シート共通）

行1 = テーブルヘッダー、行2〜 = データ。列名は全シート統一済み。

| 列 | 列名 | 型 | 説明 |
|----|------|-----|------|
| 1 | ID | int | 技能ID（シート内でユニーク） |
| 2 | 実装日 | date | ゲーム実装日 |
| 3 | 更新日時 | date | DB更新日 |
| 4 | 名称 | str | 技能名 |
| 5 | ﾚｱ | str | レアリティ。名宝ではSSR/URで鍛錬段階を区別 |
| 6 | 関連 | str | 関連武将名/武器名/勢力名 |
| 7 | 種類1 | str | 大分類（攻撃/防御/兵力/知力/内政 等） |
| 8 | 種類2 | str | 小分類（基礎/パラメータ/有利変化/所持 等） |
| 9 | 効果 | str | 効果パラメータ名（攻撃/防御/攻撃速度/会心発生 等） |
| 10 | 効果x | str | 効果の補足（兵科指定等） |
| 11 | 発動条件 | str | 常に/主将の際/副将の際 等 |
| 12 | 発動条件2 | str | 追加条件 |
| 13 | 発動タイミング | str | 発動タイミング |
| 14 | 追加効果 | str | 追加効果 |
| 15 | 確率 | num/str | 発動確率 |
| 16 | 対象部隊数 | num/str | 効果対象の部隊数 |
| 17 | 効果時間 | str | 効果の持続時間 |
| 18 | 効果量 | str/num | 「最大25%」等のテキスト or 数値 |
| 19-28 | Ⅰ〜Ⅹ | num/str | レベル別効果値（技能）or 鍛錬ランク別効果値（名宝） |
| 29 | 説明文 | str | 効果の説明 |
| 30* | Name | str | シート識別名（武将技能DBは列30、技能DBでは列39） |

*Name列: 戦法/軍馬技能/異邦技能にはなし（38列）、他は39列。

**分析用9列（列30/31〜38/39）:**

| 列名 | 型 | 説明 | 例 |
|------|-----|------|-----|
| 効果No | int | 同一技能内の効果連番 | 1, 2, 3 |
| 値種別 | str | Ⅰ〜Ⅹの値の種類 | 効果量/回数/時間 |
| 乗算変数 | str/0 | 「効果がN倍」のN変数 | 女性数, 同兵科数 |
| 乗算対象 | str/0 | 乗算の対象 | 効果量, 効果時間 |
| 追加条件 | str/0 | 発動の追加条件 | 兵力50%以下 |
| 条件倍率 | num/0 | 条件成立時の倍率 | 2, 3 |
| 上限値 | num/空 | 「最大XX%」の数値 | 0.25, 0.35 |
| 発動回数 | num/0 | 発動回数制限 | 1, 2, 3 |
| 攻撃系統 | str/0 | 攻撃の系統 | 物理, 知力 |

### 2.3 技能DB（Power Query統合ビュー）

```
行1 = 情報行（「技能一覧」「最終更新日」「注意書き」）
行2 = テーブルヘッダー（39列）
行3〜 = データ（5,733行）

列順: 個別シートと同じ29列 + 分析9列 + Name（列39）
Name列の値 = ソースシート名（武将技能DB, 戦法DB, 名宝DB 等）
```

Power Queryフィルタ: `Text.EndsWith([Name], "DB") and [Name] <> "技能DB"`
→ テーブル名がXXXDBの17シートを自動取得。新シート追加時も自動取り込み。

### 2.4 データ構造の特徴

- **縦持ち構造**: 1技能 = 同一IDの複数行（効果行 + 所持行）
- **所持行**: 種類2='所持' の行は技能の所有武将リスト（武将技能のみ）
- **名宝の鍛錬**: ﾚｱ列がSSR→通常鍛錬（Ⅰ〜Ⅲ）、UR→UR鍛錬（Ⅳ〜Ⅴ）
- **内政技能**: 種類1=内政の14件は効果データなし（戦闘計算に不使用）

---

## 3. 覇道DB_武将_.xlsx の構造

### 3.1 シート構成

| シート | 内容 |
|--------|------|
| クエリ1 | **武将マスタ統合ビュー**（447名、35列） |
| format | テンプレート（データなし） |
| LRDB | LR武将（88名） |
| URDB | UR武将（107名） |
| 900DB〜800DB | SSR武将（天賦別） |
| SRRNDB | SR/R/N武将（101名） |

### 3.2 クエリ1の列構造

行1 = ヘッダー、行2 = 空行、行3〜 = データ（447名）。

| 列 | 列名 | 型 | LR | UR | SSR | SR/R |
|----|------|-----|:--:|:--:|:---:|:----:|
| 1 | ID | int | ✅ | ✅ | ✅ | ✅ |
| 2 | レア | str | ✅ | ✅ | ✅ | ✅ |
| 3 | 天賦 | int | ✅ | ✅ | ✅ | ✅ |
| 4 | 名前 | str | ✅ | ✅ | ✅ | ✅ |
| 5 | ふりがな | str | ✅ | ✅ | ✅ | ✅ |
| 6 | 同名武将 | int | ✅ | ✅ | ✅ | - |
| 7 | 相性 | int | ✅ | ✅ | ✅ | ✅ |
| 8 | 兵科 | str | ✅ | ✅ | ✅ | ✅ |
| 9 | 侍従方向 | str | ✅ | - | - | - |
| 10 | 性別 | str | ✅ | ✅ | ✅ | - |
| 11 | 技能1 | str | ✅ | ✅ | ✅ | ✅ |
| 12 | 技能1レベル | int | ✅ | ✅ | ✅ | ✅ |
| 13 | 技能2 | str | ✅ | ✅ | ✅ | - |
| 14 | 技能2レベル | int | ✅ | ✅ | ✅ | - |
| 15 | 内政技能 | str | ✅ | ✅ | ✅ | ✅ |
| 16 | 内政技能レベル | int | ✅ | ✅ | ✅ | ✅ |
| 17 | 技能3 | str | ✅ | ✅ | - | - |
| 18 | 技能3レベル | int | ✅ | ✅ | - | - |
| 19 | 継承技能 | str | ✅ | - | - | - |
| 20 | 継承技能レベル | int | ✅ | - | - | - |
| 21 | 戦法間隔 | int | ✅ | ✅ | ✅ | - |
| 22 | 戦法順序 | str | ✅ | ✅ | ✅ | - |
| 23 | 更新日 | date | ✅ | ✅ | ✅ | ✅ |
| 24 | 備考 | str | ✅ | ✅ | ✅ | ✅ |
| 25-29 | 木/火/土/金/水 | str(S/A/B/C/D) | ✅ | ✅ | - | - |
| 30-34 | 統率/武力/知力/政治/魅力 | int | ✅ | ✅ | - | - |
| 35 | Name | str | ✅ | ✅ | ✅ | ✅ |

Name列の値 = ソースシート名（LRDB, URDB, 900DB 等）。

---

## 4. 覇道DB_名宝_.xlsx の構造

### 4.1 名宝一覧シート（209件）

行1 = ヘッダー、行2〜 = データ。

| 列 | 列名 | 型 | 説明 |
|----|------|-----|------|
| 1 | 番号 | int | 名宝ID |
| 2 | 実装日 | date | 実装日 |
| 3 | UR実装日 | date | UR化実装日 |
| 4 | 種類 | str | 武器槍/武器馬/武器弓/武器全/防具/文物 |
| 5 | 名称 | str | 名宝名 |
| 6 | 関連武将 | str | 武将名（164件に値あり、45件は汎用名宝で空） |
| 7 | 関連1 | str | 勢力（蜀/魏/呉/袁紹/他/イベント） |
| 8 | 関連2 | str | 入手方法（利権/異民族/コラボ/イベント/シーズン/繁体字版） |
| 9-11 | 技能1〜3 | str | 技能名 |
| 12 | UR | str | UR化の有無（〇） |
| 13 | 古豪 | str | 古豪名宝フラグ（〇） |

**集計:** UR=171件、古豪=51件。関連武将なしの45件は汎用名宝（利権/コラボ/イベント等）。

### 4.2 鍛錬シート（1,030行）

名宝ごとに「通常（SSR）」と「UR」の2段階で、各技能の☆ランク別レベルを管理。

| 列 | 列名 | 型 | 説明 |
|----|------|-----|------|
| 1 | 名宝番号 | int | 名宝ID（名宝一覧と対応） |
| 2 | 名宝名 | str | 名宝名 |
| 3 | 段階 | str | 通常 or UR |
| 4 | 技能名 | str | 技能名（「(技能データなし)」の場合もあり） |
| 5-15 | ☆0〜★10 | int/str | 各ランクでの技能レベル（1〜5）、「-」=解放なし |
| 16 | 備考 | str | 備考（「解放なし」等） |

**内訳:** 通常=557行、UR=465行。

```
例: 蛇矛(#13) の鍛錬データ

通常段階:
  会心猛攻:  ☆0=Lv1                          ★8〜10=解放なし
  豪勇奮闘:  ☆0=Lv1  ☆4=Lv3  ☆7=Lv4         ★8〜10=解放なし
  武勇激烈:  (未解放)                           備考=解放なし

UR段階:
  会心猛攻:  ☆0=Lv1  (以降はUR鍛錬で上昇)
  豪勇奮闘:  (通常段階の続き)
  武勇激烈:  (UR化で解放)
```

### 4.3 3ファイルの関係

```
覇道DB_名宝_.xlsx          覇道DB.xlsx
┌──────────┐             ┌──────────┐
│ 名宝一覧   │             │ 名宝シート │
│ ・名宝名   │──名宝名──→ │ ・技能効果値│
│ ・関連武将  │             │ ・Ⅰ〜Ⅹ   │
│ ・技能1〜3 │             │ ・発動条件  │
├──────────┤             │ ・分析9列  │
│ 鍛錬      │             └──────────┘
│ ・☆ランク  │
│  →技能Lv  │   「何の技能がどのLvか」 × 「そのLvでの効果量」
└──────────┘    = 鍛錬ランクごとの完全な効果計算が可能
```

---

## 5. データ品質の既知問題

### 🔴 名宝IDの衝突（11件）

同一IDに異なる武器の技能行が混在（覇道DB.xlsx 名宝シート）。

| 衝突ID | 武器A | 武器B |
|--------|------|-------|
| 3011 | 七星宝刀 | 孫氏の兵法書 |
| 3142 | 太平九節杖 | 千創玄英鎧 |
| 3183 | 大喬琵琶 | 与韓将軍書 |
| 3200 | 太平賢良黄金冠 | 鷹揚玄冥兜 |
| 3235 | 白銀龍胆鎧 | 木牛試作模型 |
| 3253 | 鋼胆鉄心槍 | 銀山雪海鎧 |
| 3255 | 銀山雪海鎧 | 思紹 |
| 3262 | 雄豪肩呑鎧 | 断江倒海鞭 |
| 3266 | 龍の水槍 | 羊の遊泳圏 |
| 3271 | 奮勇燕尾牌 | 司馬氏兵記 |
| 3332 | 炎帝神農茶譜 | 緑絹金花抹額 |

**対処:** ETL時に複合キー (ID, 関連) でグループ化し、衝突する後発にID+10000を付与。

### 🟡 技能DBに存在しない技能名（8件）

| 技能名 | 性質 |
|--------|------|
| 統制, 探究, 治金, 沈静 | 内政専用 |
| 極地, 誘引, 文信侯, 討馬 | LR固有/継承 |

**対処:** 技能名のみ保持、効果詳細は非表示。

### 🟡 技能名→IDが1:Nの技能（3件）

| 技能名 | ID群 | 区別方法 |
|--------|------|---------|
| 破謀 | 1081, 1082 | 所持武将の関連列で区別 |
| 排撃 | 1272, 1342 | 同上 |
| 麗賢 | 1295, 1433 | 同上 |

### 🟢 武将技能の種類2空行（15件）

内政技能14件（戦闘計算に不使用）+ 燎原1件（効果未入力）。

---

## 6. JSデータ構造の詳細

### 6.1 武将データ（data-generals.js — 統合済み）

```javascript
// 全447名を1つの配列で管理（v1.45で5ファイルから統合）
const EMBEDDED_GENERALS_DATA = [
  // LR/UR: 全フィールドあり
  {
    "id": 1,
    "rarity": "LR",
    "name": "張飛",
    "unit_type": "馬",          // 槍/弓/馬
    "leadership": 97,           // 統率
    "attack": 99,               // 武力
    "intelligence": 45,         // 知力
    "politics": 77,             // 政治
    "charm": 97,                // 魅力
    "gender": "男",             // 性別
    "affinity": 75,             // 相性値（0-149）
    "attendant_position": "右下", // LRのみ
    "elements": {               // 五行（LR/URのみ）
      "wood": "A", "fire": "B", "earth": "S", "metal": "C", "water": "D"
    },
    "skills": {
      "A": { "name": "咆哮", "level": 1, "type": "fixed" },
      "B": { "name": "巡見", "level": 1, "type": "levelup", "levelup_rank": 2 },
      "C": { "name": "燕人", "level": 1, "type": "levelup", "levelup_rank": 4 },
      "D": { "name": "闘魂", "level": 1, "type": "lr_inherit", "marker": "diamond" },
      "E": { "name": "鋼胆", "level": 1, "type": "unlock", "unlock_rank": 7 }
    },
    "tenpu": 1300               // 天賦
  },
  // ...
  // SR/R/N: 能力値0、技能なし（侍従・参軍専用）
  {
    "id": 6001, "rarity": "SR", "name": "郝昭",
    "unit_type": "槍", "leadership": 0, "attack": 0, "intelligence": 0, "affinity": 0
  },
  // ...
];

// app.js で統合配列として参照
// const/var宣言に注意: constはwindowプロパティにならない
// typeof EMBEDDED_GENERALS_DATA で存在確認すること
```

### 6.2 SKILL_DB（技能DB全量）

```javascript
const SKILL_DB = {
  "技能名": {
    "id": 1,
    "effects": [
      {
        "effectNo": 1,            // 効果No
        "type1": "兵力",           // 種類1
        "type2": "基礎",           // 種類2
        "effect": "兵力",          // 効果
        "effectX": null,           // 効果x
        "condition": "常に",       // 発動条件
        "condition2": null,        // 発動条件2
        "timing": null,            // 発動タイミング
        "extra": null,             // 追加効果
        "probability": null,       // 確率
        "targetCount": null,       // 対象部隊数
        "duration": null,          // 効果時間
        "amount": "最大25%",       // 効果量（テキスト or 数値）
        "levels": { "Ⅰ": 0.03, "Ⅱ": 0.07, "Ⅲ": 0.12, "Ⅳ": 0.18, "Ⅴ": 0.25 },
        "description": "部隊の兵力+効果1",
        // 分析9列
        "valueType": "効果量",     // 値種別
        "multiVar": null,          // 乗算変数
        "multiTarget": null,       // 乗算対象
        "extraCondition": null,    // 追加条件
        "conditionRate": null,     // 条件倍率
        "capValue": 0.25,          // 上限値
        "activationCount": null,   // 発動回数
        "attackType": null         // 攻撃系統
      }
    ],
    "owners": [                    // 所持行（武将技能のみ）
      { "name": "典韋", "rarity": "UR" }
    ],
    "source": "武将技能DB"          // ソースシート名
  }
};
// 1,783技能、5,557効果行（※覇道DB.xlsx更新により再生成が必要）
```

### 6.3 TREASURE_FORGE（名宝鍛錬データ）

```javascript
const TREASURE_FORGE = {
  "13": {                            // 名宝番号（名宝一覧の番号）
    "name": "蛇矛",
    "normal": [                      // 通常（SSR）鍛錬
      {
        "skill": "会心猛攻",
        "ranks": {
          "0": 1, "1": null, "2": null, "3": null, "4": null,
          "5": null, "6": null, "7": null, "8": null, "9": null, "10": null
        }
      },
      {
        "skill": "豪勇奮闘",
        "ranks": { "0": 1, "4": 3, "7": 4 }   // null省略
      }
    ],
    "ur": [                          // UR鍛錬
      { "skill": "会心猛攻", "ranks": { "0": 1, "2": 2, "4": 3, "6": 4 } },
      { "skill": "武勇激烈", "ranks": { "7": 1, "8": 2, "9": 3, "10": 4 } }
    ]
  }
};
// 187/209件（22件は鍛錬データなし: 利権/コラボ/イベント品等）
// ヘルパー: getTreasureSkillLevels(treasureId, isUR, starRank) → [{skill, level}]
// ヘルパー: getTreasureSkillNames(treasureId) → [技能名]
```

### 6.4 レガシーデータファイル（廃止予定）

```javascript
// 旧武将ファイル（v1.45でdata-generals.jsに統合済み）:
// data-lr-generals.js, data-ur-generals.js, data-ssr-generals.js,
// data-sr-generals.js, data-r-generals.js
// → index.htmlから削除済み

// SKILL_EFFECTS_DATA: 499技能 → SKILL_DBに完全包含
// 技能名 → { parameter: "攻撃速度", effects: { "Ⅰ": 0.03, ... } }

// COMBAT_PARAMETERS: 171技能 → SKILL_DBに完全包含（109技能がSKILL_EFFECTS_DATAと重複）
// 技能名 → { id, effects: { tacticSpeed: { "Ⅰ": 0.02, ... } } }
```

---

## 7. ETLパイプライン

### 7.1 処理フロー

```
Excel → Python/Claude ETL → JS → GitHub Pages

[読込] 覇道DB.xlsx/技能DB → 行1スキップ, 行2=ヘッダー, 行3〜=データ
[読込] 覇道DB_武将_.xlsx/クエリ1 → 行1=ヘッダー, 行2=空行, 行3〜=データ（447名）
[読込] 覇道DB_名宝_.xlsx/名宝一覧 → 行1=ヘッダー, 行2〜=データ（209件）
[読込] 覇道DB_名宝_.xlsx/鍛錬 → 行1=ヘッダー, 行2〜=データ（1,030行）

[変換] 技能DB → SKILL_DB（技能名でグループ化、所持行分離、分析9列付与）
[変換] クエリ1 → 統合武将JS（全レアリティ1ファイル、ID衝突解決済み）

[出力] data-skill-db.js, data-generals.js
```

### 7.2 読込の注意点

| ポイント | 詳細 |
|---------|------|
| 個別シートのヘッダー | 行1=テーブルヘッダー、行2〜=データ |
| 技能DBのヘッダー | 行1=情報行（スキップ）、行2=テーブルヘッダー、行3〜=データ |
| 武将DB(クエリ1) | 行1=ヘッダー、行2=空行（スキップ）、行3〜=データ。35列（Name列あり） |
| 名宝一覧 | 行1=ヘッダー、行2〜=データ。13列。関連武将=列6, 関連1=列7, 関連2=列8 |
| 鍛錬 | 行1=ヘッダー、行2〜=データ。16列 |
| 列名 | 全て意味名（ID, 名称, 効果No...）。旧「列1」形式は廃止済み |
| 名宝のﾚｱ列 | SSR/URの2値のみ。武将のレアリティとは無関係（鍛錬段階の区別） |
| 五行の値型 | 文字列ランク（S/A/B/C/D） |
| 日付列 | openpyxlがdatetimeで返す → `.strftime('%Y-%m-%d')` で文字列化 |
| Name列の位置 | 個別シート=列30（説明文の直後）、技能DB=列39（末尾）、武将DB=列35（末尾） |
| 戦法/軍馬技能/異邦技能 | Name列なし（38列） |

---

## 8. 未解決事項・TODO

| # | 課題 | 優先度 | 備考 |
|---|------|--------|------|
| 1 | ~~SKILL_DB→calc-engine統合~~ | ~~高~~ | ✅ 完了。calc-engine.jsがSKILL_DB参照に移行済み |
| 2 | ~~SKILL_DB再生成~~ | ~~高~~ | ✅ 完了。覇道DB.xlsx更新済み（技能DB: 5,733行、名宝: 1,516行） |
| 3 | SR/R武将の能力値 | 中 | 現在全て0。侍従用途では不要だが将来の計算で必要の可能性 |
| 4 | ~~名宝鍛錬データのJS化~~ | ~~中~~ | ✅ 完了。data-treasure-forge.js生成済み（187/209件） |
| 5 | 内政技能14件の種類2空欄 | 低 | 戦闘計算に不使用。DB統一性のため要検討 |
| 6 | 将星補正の☆ランク別配分 | 中 | 現在は均等割り。実際の配分は未確認 |
| 7 | SR/R/N天賦テーブル | 低 | 650/550/500は推定値。検証未実施 |
| 8 | ~~プロファイルシステム基本実装~~ | ~~高~~ | ✅ v1.50で実装済み（研究/調査/軍馬タブ + localStorage保存） |
| 9 | 旧data-skill-effects.js / data-combat-parameters.js 廃止 | 低 | calc-engine.jsがSKILL_DB参照に移行済みのため不要。削除可 |
| 10 | 参軍ステータス計算ロジック | 高 | UI有・calc-engineに収集ロジック無。参軍レベル(0-10)の概念整理済み |
| 11 | 名宝ステータス加算 | 高 | data-treasure-forge.js生成済み。計算ロジック未実装 |
| 12 | 武将育成プロファイル | 中 | Lv/Grade/☆/五行/参軍Lvの個別管理。設計書作成済み。Lv/Grade/☆のUI実装済み |
| 13 | stat-calculator統合 | 中 | 調査・軍馬は反映済み。研究の効果を部隊ステータスに反映する計算ロジックが未実装 |
